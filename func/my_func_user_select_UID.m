% This function is for user to choose their UID from different dataset.
% 09/21/2020, created, Dong.
function [UID,UID_all] = my_func_user_select_UID(wrapper_script_flag)
    % select dataset:
    disp('NIH Pulsewatch Datasets:');
    dataset_type = {'1: AF trial, UID 313-330, 400-420;'; '2: Clinical trial, UID 001-120'; '3: Internal testing, UID 913'};
    disp(dataset_type);
    if wrapper_script_flag
        my_dataset_type = my_input('my_dataset_type','s');
    else
        my_dataset_type = input('Please select which dataset you want to plot? \n','s'); % it has to be a string
    end
    switch my_dataset_type
        case '1'
            disp(dataset_type{1,1}); % display dataset name.
            UID_all = {'300';...
                '301';...
                '302';...
                '303';...
                '305';...
                '306';...
                '307';...
                '308';...
                '309';...
                '310';...
                '311';...
                '312';...
                '313';...
                '314';...
                '315';...
                '316';...
                '317';...
                '318';...
                '319';...
                '320';...
                '321';...
                '322';...
                '323';...
                '324';...
                '325';...
                '327';...
                '328';...
                '329';...
                '330';...
                '400';...
                '402';...
                '403';...
                '404';...
                '405';...
                '406';...
                '407';...
                '408';...
                '409';...
                '410';...
                '411';...
                '412';...
                '413';...
                '414';...
                '415';...
                '416';...
                '417';...
                '418';...
                '419';...
                '420';...
                '421';...
                '422';...
                '423';};
        case '2'
            disp(dataset_type{2,1}); % display dataset name.
            UID_all = {'001';...
                '002';...
                '003';...
                '004';...
                '005';...
                '006';...
                '007';...
                '009';...
                '011';...
                '012';...
                '013';...
                '014';...
                '017';...
                '018';...
                '019';...
                '020';...
                '021';...
                '022';...
                '024';...
                '026';...
                '027';...
                '028';...
                '029';...
                '030';...
                '031';...
                '032';...
                '034';...
                '035';...
                '036';...
                '037';...
                '038';...
                '039';...
                '040';...
                '041';...
                '042';...
                '043';...
                '044';...
                '045';...
                '047';...
                '048';...
                '049';...
                '050';...
                '051';...
                '052';...
                '053';...
                '054';...
                '055';...
                '056';...
                '057';...
                '058';...
                '060';...
                '062';...
                '063';...
                '064';...
                '067';...
                '068';...
                '069';...
                '070';...
                '071';...
                '072';...
                '073';...
                '074';...
                '075';...
                '076';...
                '077';...
                '078';...
                '079';...
                '080';...
                '081';...
                '082';...
                '083';...
                '084';...
                '085';...
                '086';...
                '087';...
                '088';...
                '089';...
                '090';...
                '091';...
                '093';...
                '094';...
                '095';...
                '096';...
                '097';...
                '098';...
                '099';...
                '100';...
                '101';...
                '102';...
                '103';...
                '104';...
                '105';...
                '106';...
                '107';...
                '108';...
                '109';...
                '110';...
                '111';...
                '112';...
                '113';...
                '114';...
                '115';...
                '116';...
                '117';...
                '118';...
                '119';...
                '120';}; % unfinished yet. When I finished the alignment of AF trial, I will come back. 09/21/2020.
        case '3'
            disp(dataset_type{3,1});
            UID_all = {'913_02042021';...
                '914_2021042601';...
                '999_2021042601';...
                '999_2021042901';...
                '999_2021050101';...
                '999_2021050501'};
            
    otherwise
        disp('Unknown dataset type!');
        keyboard;
    end
    % select subject:
    disp(UID_all);
    if wrapper_script_flag
        my_UID_type = my_input('my_UID_type','s');
    else
        my_UID_type = input('Please input subject UID: \n','s'); % it has to be a string because UID starts with zero.
    end
    UID_idx_bi = contains(UID_all,my_UID_type);
    if any(UID_idx_bi)
        UID = UID_all(UID_idx_bi);
        UID = UID{1,1};% otherwise, this is a cell.
    else
        disp('UID does not exists!');
        keyboard;
    end

    % UID = '314'; % relative seg is 17. 07_21_16_31_31 0006
    % UID = '316'; % relative seg is 13. 08_03_16_34_17 0002
    % UID = '318'; % relative seg is 17. 08_04_14_12_11 0006, and 
    % UID = '330'; % relative seg is 29. 08_12_12_43_16 0008, and 
    % UID = '328'; % relative seg is 4. 08_11_15_47_20 0003, and 
    % UID = '329'; % seg 1 is clean. very clean.
    % UID = '327'; % 08_11_14_24_53 0003
    % UID = '325'; % 08_06_16_37_02 0006
    % UID = '324'; % 08_06_16_06_59 0006
    % UID = '322'; % 08_06_14_33_30 0008
    % UID = '321'; % 08_06_10_00_03 0006
    % UID = '320'; % 08_05_13_14_31 0004
    % UID = '319'; % 08_05_11_32_29 0008

end
